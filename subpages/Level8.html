<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="../plugin/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="../plugin/codemirror/theme/ambiance.css">

<!-- Script -->
<script src="../js/jquery.min.js"></script>
<script src="../plugin/codemirror/lib/codemirror.js"></script>
<script src="../plugin/codemirror/mode/clike/clike.js"></script>
<link rel="stylesheet" href="../css/content.css">
<link rel="stylesheet" href="../css/code.css">
<script src="../plugin/codemirror/addon/display/fullscreen.js"></script>
<link rel="stylesheet" href="../plugin/codemirror/addon/display/fullscreen.css">
<h1>
  Level 8: Funktionen

</h1>
<p>
  Funktionen sind kleine Teile eines Programms, die eine spezifische Aufgabe erledigen. Sie sind immer aufrufbar und führen bestimmte Aufgaben aus. Eine Funktion kann auch Variablen oder Parameter zurückgeben. Dafür muss der Datentyp in der Funktion definiert werden. Wenn kein Wert zurückgegeben wird, wird die Funktion als void definiert.
  <br/>
  <br />Funktionen werden so aufgebaut:<br/>
    <span class=properties>&ltmodifier&gt</span> <span class=variable>&ltreturntype&gt</span><span class=name> &ltMethodenname&gt</span> <span class=parameter>(Parameterliste) </span>{}
</p>
<p>
<b>Beispiel:<br /></b>
    <span class=properties>public </span>static <span class=variable>void </span><span class=name>meineFunktion</span><span class=parameter>(int alter, String name) </span>{} <br />
  </p>


<b>
  Aufgabe

</b>
 <p>

   Schreibe die Funktion "hitpointsBerechnen", die aufgerufen wird, wenn der Spieler das Monster schlägt.
   </p>
<button class="button" id="run">Start Code</button><br/><br/>
   <div id="codeeditor"></div>
   <script>

   var editor = CodeMirror(document.getElementById("codeeditor"),{
    value: 'using System; \nusing System.Collections.Generic; \nusing System;\nusing System.Collections.Generic; \nusing System.Linq; \nusing System.Text.RegularExpressions; \n\nnamespace Rextester\n{\n  public class Program\n  {\n    public static void Main(string[] args)\n    {\n      hitpointsBerechnen(5,4,10);// hier wird die Funktion mit Beispielzahlen aufgerufen \n    }\n    //Your code goes here\n    xxx xxx xxx(xxx xxx, xxx xxx, xxx xxx){\n      dmg = (attack - defence);\n      return xxx;\n    }\n  }\n}\n',
    mode : "clike",
    theme : "ambiance",
lineNumbers:true,
 extraKeys: {
        "F11": function(cm) {
          cm.setOption("fullScreen", !cm.getOption("fullScreen"));
        },
        "Esc": function(cm) {
          if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
        }
      }
   });
   </script>

   <script>
   $(document).ready(function(){
      $("button").click(function(){

      var to_compile = {
        "LanguageChoice": "1",
        "Program": editor.getValue(),
        "Input": "",
        "CompilerArgs" : ""
      };

                  const url = 'https://rextester.com/rundotnet/api';
      // Ajax call um Code zu compilen
      $.ajax({ url, type: 'POST', data: to_compile })
        .done(function (data) {
          whatIWantToDoWithMyResponseWhenItSucceeds(data);
        })
        .fail(function (data, err) {
          whatIWantToDoWithMyResponseWhenItFails(data);
        });
      // In success case, use compiled result
      function whatIWantToDoWithMyResponseWhenItSucceeds(response) {
        var areaContent = editor.getValue();

          if (areaContent.includes('public int hitpointsBerechnen(') && areaContent.includes('return dmg') ) { // Desired result
            alert("Aufgabe 1 gelöst!"); // desired change or output, if the result contains the desired result
        } else {
          alert("Leider nicht korrekt!\nDein Output lautet: " + response.Result ); // confirmation
        }
      }

      function whatIWantToDoWithMyResponseWhenItFails(response) {
      }
            });
          });
          </script>
          <script>
          $(document).ready(function(){
              $("response").click(function(){
            });
          });
          </script>
   </body>
